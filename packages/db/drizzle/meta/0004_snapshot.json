{
  "id": "e388f844-71ec-436e-90cb-16454dff9607",
  "prevId": "88d5d024-a7af-4f0b-b2ea-558810d82b3d",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.agents": {
      "name": "agents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "username": {
          "name": "username",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "framework": {
          "name": "framework",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "model_provider": {
          "name": "model_provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "model_name": {
          "name": "model_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "owner_human_id": {
          "name": "owner_human_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "claim_status": {
          "name": "claim_status",
          "type": "claim_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "claim_proof_url": {
          "name": "claim_proof_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "api_key_hash": {
          "name": "api_key_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "api_key_prefix": {
          "name": "api_key_prefix",
          "type": "varchar(12)",
          "primaryKey": false,
          "notNull": false
        },
        "soul_summary": {
          "name": "soul_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "specializations": {
          "name": "specializations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "reputation_score": {
          "name": "reputation_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "total_problems_reported": {
          "name": "total_problems_reported",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_solutions_proposed": {
          "name": "total_solutions_proposed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_heartbeat_at": {
          "name": "last_heartbeat_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "claim_verification_code": {
          "name": "claim_verification_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "claim_verification_code_expires_at": {
          "name": "claim_verification_code_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rate_limit_override": {
          "name": "rate_limit_override",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "previous_api_key_hash": {
          "name": "previous_api_key_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "previous_api_key_prefix": {
          "name": "previous_api_key_prefix",
          "type": "varchar(12)",
          "primaryKey": false,
          "notNull": false
        },
        "previous_api_key_expires_at": {
          "name": "previous_api_key_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "agents_username_idx": {
          "name": "agents_username_idx",
          "columns": [
            {
              "expression": "username",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agents_framework_idx": {
          "name": "agents_framework_idx",
          "columns": [
            {
              "expression": "framework",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agents_claim_status_idx": {
          "name": "agents_claim_status_idx",
          "columns": [
            {
              "expression": "claim_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agents_reputation_idx": {
          "name": "agents_reputation_idx",
          "columns": [
            {
              "expression": "reputation_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agents_email_idx": {
          "name": "agents_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.humans": {
      "name": "humans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'human'"
        },
        "reputation_score": {
          "name": "reputation_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "token_balance": {
          "name": "token_balance",
          "type": "numeric(18, 8)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "oauth_provider": {
          "name": "oauth_provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "oauth_provider_id": {
          "name": "oauth_provider_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "email_verified_at": {
          "name": "email_verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "humans_email_idx": {
          "name": "humans_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "humans_reputation_idx": {
          "name": "humans_reputation_idx",
          "columns": [
            {
              "expression": "reputation_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "humans_oauth_provider_idx": {
          "name": "humans_oauth_provider_idx",
          "columns": [
            {
              "expression": "oauth_provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "oauth_provider_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.problems": {
      "name": "problems",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "reported_by_agent_id": {
          "name": "reported_by_agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "problem_domain",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "severity_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "affected_population_estimate": {
          "name": "affected_population_estimate",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "geographic_scope": {
          "name": "geographic_scope",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "location_name": {
          "name": "location_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "existing_solutions": {
          "name": "existing_solutions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "data_sources": {
          "name": "data_sources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "evidence_links": {
          "name": "evidence_links",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "alignment_score": {
          "name": "alignment_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "alignment_domain": {
          "name": "alignment_domain",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "guardrail_status": {
          "name": "guardrail_status",
          "type": "guardrail_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "guardrail_evaluation_id": {
          "name": "guardrail_evaluation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "guardrail_review_notes": {
          "name": "guardrail_review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "upvotes": {
          "name": "upvotes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "evidence_count": {
          "name": "evidence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "solution_count": {
          "name": "solution_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "embedding": {
          "name": "embedding",
          "type": "halfvec(1024)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "problem_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "problems_agent_id_idx": {
          "name": "problems_agent_id_idx",
          "columns": [
            {
              "expression": "reported_by_agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "problems_domain_idx": {
          "name": "problems_domain_idx",
          "columns": [
            {
              "expression": "domain",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "problems_severity_idx": {
          "name": "problems_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "problems_status_idx": {
          "name": "problems_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "problems_guardrail_idx": {
          "name": "problems_guardrail_idx",
          "columns": [
            {
              "expression": "guardrail_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "problems_created_at_idx": {
          "name": "problems_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "problems_status_domain_created_idx": {
          "name": "problems_status_domain_created_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "domain",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "problems_reported_by_agent_id_agents_id_fk": {
          "name": "problems_reported_by_agent_id_agents_id_fk",
          "tableFrom": "problems",
          "tableTo": "agents",
          "columnsFrom": [
            "reported_by_agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "problems_guardrail_evaluation_id_guardrail_evaluations_id_fk": {
          "name": "problems_guardrail_evaluation_id_guardrail_evaluations_id_fk",
          "tableFrom": "problems",
          "tableTo": "guardrail_evaluations",
          "columnsFrom": [
            "guardrail_evaluation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "alignment_score_range": {
          "name": "alignment_score_range",
          "value": "\"problems\".\"alignment_score\" IS NULL OR (\"problems\".\"alignment_score\" >= 0 AND \"problems\".\"alignment_score\" <= 1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.solutions": {
      "name": "solutions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "problem_id": {
          "name": "problem_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "proposed_by_agent_id": {
          "name": "proposed_by_agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "approach": {
          "name": "approach",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expected_impact": {
          "name": "expected_impact",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_cost": {
          "name": "estimated_cost",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "risks_and_mitigations": {
          "name": "risks_and_mitigations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "required_skills": {
          "name": "required_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "required_locations": {
          "name": "required_locations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "timeline_estimate": {
          "name": "timeline_estimate",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "impact_score": {
          "name": "impact_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "feasibility_score": {
          "name": "feasibility_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "cost_efficiency_score": {
          "name": "cost_efficiency_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "composite_score": {
          "name": "composite_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "alignment_score": {
          "name": "alignment_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "guardrail_status": {
          "name": "guardrail_status",
          "type": "guardrail_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "guardrail_evaluation_id": {
          "name": "guardrail_evaluation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "agent_debate_count": {
          "name": "agent_debate_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "human_votes": {
          "name": "human_votes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "human_vote_token_weight": {
          "name": "human_vote_token_weight",
          "type": "numeric(18, 8)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "embedding": {
          "name": "embedding",
          "type": "halfvec(1024)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "solution_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'proposed'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "solutions_problem_id_idx": {
          "name": "solutions_problem_id_idx",
          "columns": [
            {
              "expression": "problem_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "solutions_agent_id_idx": {
          "name": "solutions_agent_id_idx",
          "columns": [
            {
              "expression": "proposed_by_agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "solutions_status_idx": {
          "name": "solutions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "solutions_guardrail_idx": {
          "name": "solutions_guardrail_idx",
          "columns": [
            {
              "expression": "guardrail_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "solutions_composite_score_idx": {
          "name": "solutions_composite_score_idx",
          "columns": [
            {
              "expression": "composite_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "solutions_status_score_created_idx": {
          "name": "solutions_status_score_created_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "composite_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "solutions_problem_id_problems_id_fk": {
          "name": "solutions_problem_id_problems_id_fk",
          "tableFrom": "solutions",
          "tableTo": "problems",
          "columnsFrom": [
            "problem_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "solutions_proposed_by_agent_id_agents_id_fk": {
          "name": "solutions_proposed_by_agent_id_agents_id_fk",
          "tableFrom": "solutions",
          "tableTo": "agents",
          "columnsFrom": [
            "proposed_by_agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "solutions_guardrail_evaluation_id_guardrail_evaluations_id_fk": {
          "name": "solutions_guardrail_evaluation_id_guardrail_evaluations_id_fk",
          "tableFrom": "solutions",
          "tableTo": "guardrail_evaluations",
          "columnsFrom": [
            "guardrail_evaluation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "alignment_score_range": {
          "name": "alignment_score_range",
          "value": "\"solutions\".\"alignment_score\" IS NULL OR (\"solutions\".\"alignment_score\" >= 0 AND \"solutions\".\"alignment_score\" <= 1)"
        },
        "scores_non_negative": {
          "name": "scores_non_negative",
          "value": "\"solutions\".\"impact_score\" >= 0 AND \"solutions\".\"feasibility_score\" >= 0 AND \"solutions\".\"cost_efficiency_score\" >= 0 AND \"solutions\".\"composite_score\" >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.debates": {
      "name": "debates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "solution_id": {
          "name": "solution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "parent_debate_id": {
          "name": "parent_debate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "stance": {
          "name": "stance",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "evidence_links": {
          "name": "evidence_links",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "guardrail_status": {
          "name": "guardrail_status",
          "type": "guardrail_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "guardrail_evaluation_id": {
          "name": "guardrail_evaluation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "upvotes": {
          "name": "upvotes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "debates_solution_id_idx": {
          "name": "debates_solution_id_idx",
          "columns": [
            {
              "expression": "solution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "debates_agent_id_idx": {
          "name": "debates_agent_id_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "debates_parent_id_idx": {
          "name": "debates_parent_id_idx",
          "columns": [
            {
              "expression": "parent_debate_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "debates_stance_idx": {
          "name": "debates_stance_idx",
          "columns": [
            {
              "expression": "stance",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "debates_solution_created_idx": {
          "name": "debates_solution_created_idx",
          "columns": [
            {
              "expression": "solution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "debates_solution_id_solutions_id_fk": {
          "name": "debates_solution_id_solutions_id_fk",
          "tableFrom": "debates",
          "tableTo": "solutions",
          "columnsFrom": [
            "solution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "debates_agent_id_agents_id_fk": {
          "name": "debates_agent_id_agents_id_fk",
          "tableFrom": "debates",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "debates_guardrail_evaluation_id_guardrail_evaluations_id_fk": {
          "name": "debates_guardrail_evaluation_id_guardrail_evaluations_id_fk",
          "tableFrom": "debates",
          "tableTo": "guardrail_evaluations",
          "columnsFrom": [
            "guardrail_evaluation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.approved_domains": {
      "name": "approved_domains",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "domain_key": {
          "name": "domain_key",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "un_sdg_alignment": {
          "name": "un_sdg_alignment",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": true
        },
        "example_topics": {
          "name": "example_topics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "approved_domains_domain_key_unique": {
          "name": "approved_domains_domain_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "domain_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.evaluation_cache": {
      "name": "evaluation_cache",
      "schema": "",
      "columns": {
        "cache_key": {
          "name": "cache_key",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "evaluation_result": {
          "name": "evaluation_result",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "alignment_score": {
          "name": "alignment_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "alignment_domain": {
          "name": "alignment_domain",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "hit_count": {
          "name": "hit_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "evaluation_cache_expires_at_idx": {
          "name": "evaluation_cache_expires_at_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flagged_content": {
      "name": "flagged_content",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "evaluation_id": {
          "name": "evaluation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content_id": {
          "name": "content_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content_type": {
          "name": "content_type",
          "type": "content_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "flagged_content_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending_review'"
        },
        "assigned_admin_id": {
          "name": "assigned_admin_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "claimed_at": {
          "name": "claimed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "admin_decision": {
          "name": "admin_decision",
          "type": "admin_decision",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "admin_notes": {
          "name": "admin_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "flagged_content_status_created_at_idx": {
          "name": "flagged_content_status_created_at_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "flagged_content_assigned_admin_idx": {
          "name": "flagged_content_assigned_admin_idx",
          "columns": [
            {
              "expression": "assigned_admin_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "flagged_content_agent_id_idx": {
          "name": "flagged_content_agent_id_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "flagged_content_evaluation_id_guardrail_evaluations_id_fk": {
          "name": "flagged_content_evaluation_id_guardrail_evaluations_id_fk",
          "tableFrom": "flagged_content",
          "tableTo": "guardrail_evaluations",
          "columnsFrom": [
            "evaluation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "flagged_content_agent_id_agents_id_fk": {
          "name": "flagged_content_agent_id_agents_id_fk",
          "tableFrom": "flagged_content",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "flagged_content_evaluation_id_unique": {
          "name": "flagged_content_evaluation_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "evaluation_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.forbidden_patterns": {
      "name": "forbidden_patterns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "regex_pattern": {
          "name": "regex_pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "pattern_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'high'"
        },
        "example_violations": {
          "name": "example_violations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "forbidden_patterns_name_unique": {
          "name": "forbidden_patterns_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.guardrail_evaluations": {
      "name": "guardrail_evaluations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "content_id": {
          "name": "content_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content_type": {
          "name": "content_type",
          "type": "content_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "submitted_content": {
          "name": "submitted_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "layer_a_result": {
          "name": "layer_a_result",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "layer_b_result": {
          "name": "layer_b_result",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "final_decision": {
          "name": "final_decision",
          "type": "guardrail_decision",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "alignment_score": {
          "name": "alignment_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "alignment_domain": {
          "name": "alignment_domain",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "cache_hit": {
          "name": "cache_hit",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "cache_key": {
          "name": "cache_key",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "trust_tier": {
          "name": "trust_tier",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "evaluation_duration_ms": {
          "name": "evaluation_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "guardrail_evaluations_content_id_idx": {
          "name": "guardrail_evaluations_content_id_idx",
          "columns": [
            {
              "expression": "content_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guardrail_evaluations_agent_id_idx": {
          "name": "guardrail_evaluations_agent_id_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guardrail_evaluations_cache_key_idx": {
          "name": "guardrail_evaluations_cache_key_idx",
          "columns": [
            {
              "expression": "cache_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guardrail_evaluations_created_at_idx": {
          "name": "guardrail_evaluations_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guardrail_evaluations_final_decision_idx": {
          "name": "guardrail_evaluations_final_decision_idx",
          "columns": [
            {
              "expression": "final_decision",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "guardrail_evaluations_agent_id_agents_id_fk": {
          "name": "guardrail_evaluations_agent_id_agents_id_fk",
          "tableFrom": "guardrail_evaluations",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trust_tiers": {
      "name": "trust_tiers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "tier_name": {
          "name": "tier_name",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "min_account_age_days": {
          "name": "min_account_age_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "min_approved_submissions": {
          "name": "min_approved_submissions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "auto_approve_threshold": {
          "name": "auto_approve_threshold",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "auto_flag_threshold_min": {
          "name": "auto_flag_threshold_min",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "auto_reject_threshold_max": {
          "name": "auto_reject_threshold_max",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "trust_tiers_tier_name_unique": {
          "name": "trust_tiers_tier_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tier_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.human_profiles": {
      "name": "human_profiles",
      "schema": "",
      "columns": {
        "human_id": {
          "name": "human_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "skills": {
          "name": "skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "city": {
          "name": "city",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "service_radius": {
          "name": "service_radius",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "languages": {
          "name": "languages",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "availability": {
          "name": "availability",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "wallet_address": {
          "name": "wallet_address",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "certifications": {
          "name": "certifications",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "profile_completeness_score": {
          "name": "profile_completeness_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "orientation_completed_at": {
          "name": "orientation_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_missions_completed": {
          "name": "total_missions_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_tokens_earned": {
          "name": "total_tokens_earned",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "streak_days": {
          "name": "streak_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "human_profiles_skills_idx": {
          "name": "human_profiles_skills_idx",
          "columns": [
            {
              "expression": "skills",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "human_profiles_completeness_idx": {
          "name": "human_profiles_completeness_idx",
          "columns": [
            {
              "expression": "profile_completeness_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "human_profiles_last_active_idx": {
          "name": "human_profiles_last_active_idx",
          "columns": [
            {
              "expression": "last_active_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "human_profiles_human_id_humans_id_fk": {
          "name": "human_profiles_human_id_humans_id_fk",
          "tableFrom": "human_profiles",
          "tableTo": "humans",
          "columnsFrom": [
            "human_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.token_transactions": {
      "name": "token_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "human_id": {
          "name": "human_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "balance_before": {
          "name": "balance_before",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "balance_after": {
          "name": "balance_after",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "transaction_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "reference_id": {
          "name": "reference_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reference_type": {
          "name": "reference_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "token_tx_human_created_idx": {
          "name": "token_tx_human_created_idx",
          "columns": [
            {
              "expression": "human_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "token_tx_type_idx": {
          "name": "token_tx_type_idx",
          "columns": [
            {
              "expression": "transaction_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "token_tx_reference_idx": {
          "name": "token_tx_reference_idx",
          "columns": [
            {
              "expression": "reference_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "token_tx_idempotency_idx": {
          "name": "token_tx_idempotency_idx",
          "columns": [
            {
              "expression": "idempotency_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "token_transactions_human_id_humans_id_fk": {
          "name": "token_transactions_human_id_humans_id_fk",
          "tableFrom": "token_transactions",
          "tableTo": "humans",
          "columnsFrom": [
            "human_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "session_token": {
          "name": "session_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sessions_user_id_humans_id_fk": {
          "name": "sessions_user_id_humans_id_fk",
          "tableFrom": "sessions",
          "tableTo": "humans",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sessions_session_token_unique": {
          "name": "sessions_session_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "session_token"
          ]
        },
        "sessions_refresh_token_unique": {
          "name": "sessions_refresh_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "refresh_token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.accounts": {
      "name": "accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_account_id": {
          "name": "provider_account_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "token_type": {
          "name": "token_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "accounts_provider_idx": {
          "name": "accounts_provider_idx",
          "columns": [
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "provider_account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "accounts_user_id_humans_id_fk": {
          "name": "accounts_user_id_humans_id_fk",
          "tableFrom": "accounts",
          "tableTo": "humans",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification_tokens": {
      "name": "verification_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "identifier": {
          "name": "identifier",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "verified": {
          "name": "verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "resend_count": {
          "name": "resend_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.admin_decision": {
      "name": "admin_decision",
      "schema": "public",
      "values": [
        "approve",
        "reject"
      ]
    },
    "public.claim_status": {
      "name": "claim_status",
      "schema": "public",
      "values": [
        "pending",
        "claimed",
        "verified"
      ]
    },
    "public.content_type": {
      "name": "content_type",
      "schema": "public",
      "values": [
        "problem",
        "solution",
        "debate"
      ]
    },
    "public.entity_type": {
      "name": "entity_type",
      "schema": "public",
      "values": [
        "agent",
        "human"
      ]
    },
    "public.flagged_content_status": {
      "name": "flagged_content_status",
      "schema": "public",
      "values": [
        "pending_review",
        "approved",
        "rejected"
      ]
    },
    "public.guardrail_decision": {
      "name": "guardrail_decision",
      "schema": "public",
      "values": [
        "approved",
        "flagged",
        "rejected"
      ]
    },
    "public.guardrail_status": {
      "name": "guardrail_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected",
        "flagged"
      ]
    },
    "public.pattern_severity": {
      "name": "pattern_severity",
      "schema": "public",
      "values": [
        "high",
        "critical"
      ]
    },
    "public.problem_domain": {
      "name": "problem_domain",
      "schema": "public",
      "values": [
        "poverty_reduction",
        "education_access",
        "healthcare_improvement",
        "environmental_protection",
        "food_security",
        "mental_health_wellbeing",
        "community_building",
        "disaster_response",
        "digital_inclusion",
        "human_rights",
        "clean_water_sanitation",
        "sustainable_energy",
        "gender_equality",
        "biodiversity_conservation",
        "elder_care"
      ]
    },
    "public.problem_status": {
      "name": "problem_status",
      "schema": "public",
      "values": [
        "active",
        "being_addressed",
        "resolved",
        "archived"
      ]
    },
    "public.severity_level": {
      "name": "severity_level",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "public.solution_status": {
      "name": "solution_status",
      "schema": "public",
      "values": [
        "proposed",
        "debating",
        "ready_for_action",
        "in_progress",
        "completed",
        "abandoned"
      ]
    },
    "public.transaction_type": {
      "name": "transaction_type",
      "schema": "public",
      "values": [
        "earn_orientation",
        "earn_mission",
        "earn_reward",
        "earn_bonus",
        "earn_referral",
        "spend_vote",
        "spend_circle",
        "spend_analytics",
        "spend_custom"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}